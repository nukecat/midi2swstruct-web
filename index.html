<!DOCTYPE html>

<html>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<head>
<title>midi2swstruct-web</title>
<link rel="stylesheet" type="text/css" href="css/style.css?v=1">
<script type="module" src="js/main.js?v=3"></script>
<script type="module" src="js/collapsible.js?v=1"></script>
<script type="module" src="js/slider.js?v=1"></script>
</head>

<body>
<div class="bar">
    <div class="left">
        <h4>midi2swstruct</h4>
    </div>
    <div class="center">
        <h4>webpv0.2.0-libv0.2.11</h4>
    </div>
</div>
<div class="container">
    <div class=left-side-panel></div>
    <div class="content">
        <h1>Welcome</h1>
        <p>
            This is a web version of midi2swstruct tool.
            It can convert <b>MIDI</b> files into
            <b>Sandbox World</b> <b>.structure</b> files.
            The generated structure includes a music player
            with encoded MIDI data, playable within Sandbox World.
        </p>
        <div class="content-box" id="midi2swstruct-widget">
            <label class="drop-zone" style="width: 100%">
                Drop MIDI file here, or click to upload.
                <input style="display: none" type="file" id="file-input" accept=".mid,.midi" />
            </label>
            <p style="text-align: center;">
                <sub><b><span class="selected-file-info">Current file: None</span></b></sub>
            </p>

            <div class="collapsible-container">
                <button class="collapsible-toggle collapsed">Options (Advanced) </button>
                <div class="collapsible-content collapsed">
                    <div class="flex-column box">

                        <div
                            class="horizontal-slider"

                            data-slider="minPitch"
                            data-label="Minimal pitch"
                            data-min="1"
                            data-max="127"
                            data-step="1"
                            data-default="27"
                                                        >
                            <div class="up">
                                <span class="label"></span>
                                <input type="number">
                            </div>
                            <div class="bottom">
                                <span class="min"></span>
                                <input type="range">
                                <span class="max"></span>
                            </div>
                        </div>

                        <div
                            class="horizontal-slider"

                            data-slider="maxPitch"
                            data-label="Maximal pitch"
                            data-min="1"
                            data-max="127"
                            data-step="1"
                            data-default="111"
                                                        >
                            <div class="up">
                                <span class="label"></span>
                                <input type="number">
                            </div>
                            <div class="bottom">
                                <span class="min"></span>
                                <input type="range">
                                <span class="max"></span>
                            </div>
                        </div>

                        <div
                            class="horizontal-slider"

                            data-slider="minVelocity"
                            data-label="Minimal velocity"
                            data-min="1"
                            data-max="127"
                            data-step="1"
                            data-default="1"
                                                        >
                            <div class="up">
                                <span class="label"></span>
                                <input type="number">
                            </div>
                            <div class="bottom">
                                <span class="min"></span>
                                <input type="range">
                                <span class="max"></span>
                            </div>
                        </div>

                        <div
                            class="horizontal-slider"

                            data-slider="notesPerValue"
                            data-label="Notes per value"
                            data-min="1"
                            data-max="24"
                            data-step="1"
                            data-default="24"
                                                        >
                            <div class="up">
                                <span class="label"></span>
                                <input type="number">
                            </div>
                            <div class="bottom">
                                <span class="min"></span>
                                <input type="range">
                                <span class="max"></span>
                            </div>
                        </div>

                        <div
                            class="horizontal-slider"

                            data-slider="maxEventsPerFunc"
                            data-label="Maximal amount of events per function"
                            data-min="512"
                            data-max="65535"
                            data-step="1"
                            data-default="1024"
                                                        >
                            <div class="up">
                                <span class="label"></span>
                                <input type="number">
                            </div>
                            <div class="bottom">
                                <span class="min"></span>
                                <input type="range">
                                <span class="max"></span>
                            </div>
                        </div>

                        <div class="horizontal-slider">
                            <div class="up">
                                <span class="label">Repeat</span>
                                <input type="checkbox" id="repeat" value="false">
                            </div>
                        </div>
                        <br>
                        <button class="btn" id="reset-btn">Reset Defaults</button>
                    </div>
                </div>
            </div>

            <button class="btn accept" id="convert-btn">Convert and Download</button>
            <p id="status" style="text-align:center;">Idle</p>
        </div>
        <h2>How it works?</h2>
        <ol>
            <li>Parses MIDI file and collects note events across all tracks.</li>
            <li>Filters notes by pitch and velocity.</li>
            <li>Encodes note changes into a compressed function-based format.</li>
            <li>Generates Sandbox World building with math blocks which contain data.</li>
            <li>Outputs a .structure file ready for import.</li>
        </ol>
    </div>
    <div class=right-side-panel></div>
</div>
<div class="bar">
    <div class="right">
        made by <b>nukcat</b>
    </div>
</div>
</body>

</html>
